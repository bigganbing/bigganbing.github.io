---
layout:     post
title:      操作系统学习笔记(第一章)
subtitle:   I have noting to say...
date:       2018-10-23
author:     viewsetting
header-img: img/post-adjani.jpg
catalog: true
tags:
    - Note
    - OS
    - 绪论
    - 操作系统
---

# 绪论

> 操作系统(Operating System)，是配置在计算机硬件上的第一层软件，是对硬件系统的首次扩充。其主要作用是管理好这些设备，提高它们的利用率和系统的吞吐量，并为用户和应用提供一个简单的接口，便于用户使用。OS是现代计算机系统中最重要的系统软件，而其他的诸如编译程序、数据库管理系统等系统软件，以及大量的应用软件，都是直接依赖于操作系统的支持，取得它所提供的服务。事实上OS已经成为现代计算机系统、多处理机系统、计算机网络中必须配置的系统软件。
>
>  ----*《计算机操作系统（第四版）》 汤小丹等，西安电子科技大学出版社*

## 1.1 操作系统的目标和作用

#### 操作系统的目标

1. *方便性*

2. *有效性*

3. *可扩充性*

4. *开放性*


#### 操作系统的作用

- OS作为用户和计算机硬件系统之间的接口

- OS作为计算机系统资源的管理者

  ​	归纳起来可将这些资源分为四类：**处理机、存储器、I/O设备和软件资源**

  ​        ***OS的主要功能就是对这四类资源进行有效管理***

- OS实现了对计算机资源的抽象


#### 推动操作系统发展的主要动力

1. 不断提高的计算机资源利用率
2. 方便用户
3. 器件的不断更新换代
4. 计算机体系结构的不断发展
5. 不断提出新的应用需求



## 1.2  操作系统的发展过程

#### 未配置操作系统的计算机系统

##### 1.人工操作方式

1）用户独占全机

2）CPU等待人工操作。即：用户装卡带卸卡带时，CPU和内存是空闲的。 **人机矛盾：CPU速度显著提高，但是I/O设备的速度却提高缓慢。**



##### **2.脱机输入/输出（OffLine I/O)**

解释：事先讲装有用户程序和数据的纸带装入纸带输入机，在一些外围机的控制下，把纸带上的数据（程序）输入到磁带上。当CPU需要读取这些程序和数据是就从磁带上高速读取。

##### **3.主要优点：**

**1）减少了CPU的空闲时间，这些都是在脱机情况下由外围机完成的，不占用主机时间。**

**2）提高了I/O速度。当CPU在运行中需要输入数据时，是直接从高速的磁带上将数据输入到内存中的。**



#### 单道批处理系统(Simple Batch Processing System)

##### 1.处理过程

先把一批作业以脱机的形式输入到磁带上，并在系统上配上监督程序(Monitor)，在它的控制下，这批作业能够一个接着一个处理。虽然系统对于作业的处理是成批进行的，但在内存中始终只保持一道作业，故称为单道批处理系统。

##### 2.单道批处理系统的缺点

**系统中的资源不能得到充分的利用。由于内存中只有一道程序，所以每逢该程序在运行中发出I/O请求后，CPU便处于等待状态，必须在其I/O完成后才继续运行。然后又因为I/O设备的低速，使得CPU的利用率显著降低。**



#### 多道批处理系统(Multiprogrammed Batch Processing System)

##### 多道程序设计概念

在该系统中，用户所提交的作业先存在外存，并且拍成一个队列，称之为“后备队列”。然后作业调度程序按照一定的算法，在后备队列中选择若干作业调入内存，使它们共享CPU和系统中的各种资源。**这样就使得CPU一直处于忙碌的状态。**

##### 多道批处理系统的优缺点

|    资源利用率高    |        使得多道程序交替进行，并且提高了I/O设备利用率         |
| :----------------: | :----------------------------------------------------------: |
|  **系统吞吐量大**  | **1.CPU等资源处于忙碌状态 2.仅在作业完成或进行不了后才切换，系统开销小** |
| **平均周转时间长** |             **作业排队依次处理，所以周转时间长**             |
|   **无交互能力**   |    **作业一旦提交给系统，直至处理完成，用户无法与之交互**    |

##### 需要解决的问题

1. 处理机争用问题。既满足各道程序运行需要，又能提高处理机利用率
2. 内存分配与保护问题。要给每道程序分配必要的内存空间，不会使得某程序的异常破坏其他程序。
3. I/O分配问题。既方便用户使用，又保证数据安全性
4. 文件的组织和管理问题。有效组织存放在系统中的程序与数据，既便于用户使用，又能保障数据安全。
5. 作业管理问题。
6. 用户与系统接口问题。为了方便用户使用，OS应当提供给用户与OS之间的接口。



#### 分时系统（Time Sharing System)

##### 分时系统的引入

- 人-机交互：方便了程序员上机调试时独占全机直接控制，便于修改程序中的错误
- 共享主机 ： 用户共享主机时，每个人都和独占一样，随时交互。

故分时系统是：在一台主机上连接了多个配有显示器和键盘的终端并由此组成的系统，该系统允许多个用户**同时**通过自己的终端，**以交互方式使用计算机，共享主机中的资源**。

##### 分时系统实现的关键问题

必须解决的关键问题：**如何使得用户能与自己的作业进行交互。**

所以系统首先提供多个终端，同时给多个用户使用。然后，当用户在自己的终端上键入命令时，系统应当能及时接收，并且及时处理。然后再将这些结果返回给用户。

因此有如下要点：

1.**及时接收**。在系统中配置一个多路卡。

2.**及时处理**。需要改变原来的批处理系统运行方式，改为：

> **作业直接送入内存**，因为作业在磁盘上无法运行。同时采用轮转运行。因为一个作业一直独占CPU的话，其他作业无法运行，于是**设置时间片**($e.g.$  30 $ms$)，系统就可以规定一个作业每次只能运行一个时间片的时间。**时间一过就会暂停运行并且换到下一个作业。**从而使得每个用户可以及时与自己的作业交互，从而请求也就得到了及时的响应。

#### 实时系统（Real Time System)

##### 实时系统的类型

- 工业（武器）系统
- 信息查询系统
- 多媒体系统
- 嵌入式系统

##### 实时任务类型

1.周期性与非周期性实时任务。非周期性任务需要联系着一个截止时间(Deadline)。可分为开始与结束两种。

2.硬实时任务和软实时任务。Hard Real-time Task ：系统必须满足任务对于截止时间的要求，否则可能出现难以预测的后果。   Soft Real-time Task ,它也联系着一个截止时间，对于系统产生的影响不会太大，用于信息查询系统和多媒体系统中的实时系统。

##### 实时系统 VS. 分时系统

|  特征  |               分时系统               |                           实时系统                           |
| :----: | :----------------------------------: | :----------------------------------------------------------: |
| 多路性 |  按分时原则为多个终端服务系统周期性  |                 系统周期性对多路现场信息采集                 |
| 独立性 |   每个终端用户与系统交互时互不干扰   |              信息的采集和对于对象的控制互不干扰              |
| 及时性 |        依据人能接受的时间确定        |                以控制的对象要求的截止时间确定                |
| 交互性 | 限于访问系统中某些特定的专用服务程序 |     也是仅限于用户发送的某些特定的指令，如开始停止快进等     |
| 可靠性 |             要求系统可靠             | 要求系统高度可靠，往往采取了多级容错措施保证系统和数据的安全 |



## 1.3 操作系统的基本特性



> ***操作系统有四个基本特征：并发，共享，虚拟，异步***



#### 并发(Concurrence)

##### 概念区分：并行与并发

并行指的是：多个事件同时发生。 并发指的是：多个事件**在同一时间间隔内**发生。

在多道程序环境中，并发就是**在一段时间内宏观上**有多个程序在同时运行。

##### 引入进程(Process)

如果没有引入进程，那么属于同一个应用程序的多个程序之间必须顺序执行，比如I/O程序执行完才能执行计算程序。在引入了进程后，可以在内存中给多个程序分别建立一个进程，这样它们就能并发执行。

> 所谓进程，就是在系统中能**独立运行并作为资源分配**的基本单位，它是由一组机器指令、数据和堆栈等等组成的，是一个能够**独立运行**的活动实体。
>
> 多个进程之间可以并发执行并且交换信息。



#### 共享（Sharing）

##### 互斥共享方式

即：在一个时间段内只允许一个进程访问某个资源。这种资源也叫***临界资源(Critical Resource)***,见第二章。

##### 同时访问方式

即：允许一段时间内，由多个进程“同时”对其进行访问(微观上是交替进行的)。

> 重点：**并发和共享是多用户（任务）OS的两个最基本的特征，它们是互为存在的条件。**因为资源共享以进程并发为前提，而系统对于资源共享的有效管理以协调进程对其的访问也是并发有效执行的保障。 



#### 虚拟（Virtual)

##### 时分复用

1.虚拟处理机技术

使得每个终端用户认为有个处理机只为自己服务，其实是**多道程序设计技术**将物理上的处理机虚拟为了多台逻辑     上的处理机。

2.虚拟设备技术

宏观上使得共享设备“同时”为多个用户服务

##### 空分复用

即利用空间，也就是存储器的空闲空间区域存放并运行其他的程序，提高处理机效率。

于此同时，引入虚拟存储技术：本质上是内存的时分复用。如：使得一个100MB的程序每次调用一部分到30MB的内存空间中，运行完这部分就换出，使得程序各部分分时送入内存运行，看上去内存增大。

> 注意：如果对一个物理设备进行时分复用，假如$N$是其所对应的虚拟逻辑设备的数量，那么每台虚拟设备的平均速度必然小于等于$1/N$ 。同理，若是空分复用，平均占用空间也小于等于物理设备空间的$1/N$。

#### 异步（Asynchronism)

由于资源等条件限制，进程的执行总是无法连续执行，会断断续续。所以进程总是以无法预知的速度推进，这叫异步性。但是只要OS中配置有完善的进程同步机制，且运行环境相同，那么作业在多次运行后依然能得到相同的结果。所以异步运行方式是允许的，也是OS的一个重要特征。



## 1.4操作系统的主要功能

#### 处理机管理功能

#### 存储器管理功能

#### 设备管理功能

#### 文件管理功能

#### 操作系统和用户间的接口

#### 现代操作系统的新功能



## 1.5 OS结构设计

